TradingAgents v1.0.0-preview Source Code Installation Manual (Revised Version)
This manual guides you to install TradingAgents v1.0.0-preview version from source, which uses a front-end separation architecture:

Backend
:FastAPI application, the source code is located in the directoryapp/
Front end
:Vue 3 application, the source code is located in the directoryfrontend/
database
:MongoDB (data store)
Caching
:Redis (session cache and temporary data)
System requirements:
Environmental requirements
Python 3.10+
Node.js 18+
MongoDB 4.4+
Redis 6.0+
Git
Recommended configuration
CPU: 4 cores or higher
RAM: 8GB or more
Storage: 50GB free space
Network: Stable internet connection
Project structure
TradingAgentsCN/
â”œâ”€â”€ app/                    # åç«¯æºç ç›®å½•
â”‚   â”œâ”€â”€ main.py            # FastAPI ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚â”€â”€â”€ requirements.txt   # Python ä¾èµ–
â”œâ”€â”€ frontend/              # å‰ç«¯æºç ç›®å½•
â”‚   â”œâ”€â”€ package.json       # Node.js ä¾èµ–
â”‚   â”œâ”€â”€ src/               # Vue 3 æºç 
â”‚   â””â”€â”€ vite.config.js     # Vite é…ç½®
â”œâ”€â”€ docker-compose.yml     # Docker é…ç½®
â”œâ”€â”€ Dockerfile.backend     # åç«¯ Docker é•œåƒ
â””â”€â”€ Dockerfile.frontend    # å‰ç«¯ Docker é•œåƒ
Installation steps:
1. Clone Project
git clone https://github.com/hsliuping/TradingAgents-CN.git
cd TradingAgents-CN
2. Install the database
Install MongoDB
Windows:

# ä½¿ç”¨ Chocolatey
choco install mongodb

# æˆ–ä½¿ç”¨ MSI å®‰è£…åŒ…ä»å®˜ç½‘ä¸‹è½½
# å®‰è£…åéœ€è¦åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
# ç”¨æˆ·å: admin
# å¯†ç : tradingagents123
macOS:

# ä½¿ç”¨ Homebrew
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb/brew/mongodb-community

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
mongosh
> use admin
> db.createUser({
    user: "admin",
    pwd: "tradingagents123",
    roles: ["userAdminAnyDatabase", "dbAdminAnyDatabase", "readWriteAnyDatabase"]
})
Linux (Ubuntu/Debian):

# å¯¼å…¥å…¬é’¥
wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc |sudo apt-key add -

# åˆ›å»ºåˆ—è¡¨æ–‡ä»¶
echo"deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse"|sudotee /etc/apt/sources.list.d/mongodb-org-5.0.list

# æ›´æ–°å¹¶å®‰è£…
sudo apt-get update
sudo apt-get install -y mongodb-org
sudo systemctl start mongod
sudo systemctl enable mongod

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
mongosh
> use admin
> db.createUser({
    user: "admin",
    pwd: "tradingagents123",
    roles: ["userAdminAnyDatabase", "dbAdminAnyDatabase", "readWriteAnyDatabase"]
})
Install Redis
Windows:

# ä½¿ç”¨ Chocolatey
choco install redis-64

# æˆ–ä½¿ç”¨ MSOpenTech Redis
# å®‰è£…åéœ€è¦è®¾ç½®å¯†ç ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
# å¯†ç : tradingagents123
macOS:

# ä½¿ç”¨ Homebrew
brew install redis
brew services start redis

# è®¾ç½®å¯†ç ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
# ç¼–è¾‘é…ç½®æ–‡ä»¶: /usr/local/etc/redis.conf
# æ·»åŠ : requirepass tradingagents123
brew services restart redis
Linux (Ubuntu/Debian):

sudo apt-get  update
sudo apt-get install redis-server
sudo systemctl start redis
sudo systemctl enable redis

# è®¾ç½®å¯†ç ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlé…ç½®ï¼‰
# ç¼–è¾‘é…ç½®æ–‡ä»¶: /etc/redis/redis.conf
# æ·»åŠ : requirepass tradingagents123
sudo systemctl restart redis
3. Configure the backend environment
3.1 Create a Python virtual environment

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆç¡®ä¿Pythonç‰ˆæœ¬åœ¨3.10-3.12ä¹‹é—´ï¼‰
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate
Note: Make sure you are using Python version 3.10-3.12, you can check the version by checking the version. Python 3.10 or 3.11 is recommended for best compatibility. python --version

3.2 Install Python dependencies

# é…ç½®æ¸…åé•œåƒ
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple

# éªŒè¯é…ç½®
pip config list

# ç¡®ä¿åœ¨ app ç›®å½•ä¸‹ä¸”è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
pip install -r requirements.txt 
3.3 Configure environment variables
Create a file:.env

cp .env.example .env
Edit the file to configure the following key parameters:.env

# æ•°æ®åº“é…ç½®ï¼ˆå‚è€ƒdocker-compose.hub.nginx.ymlä¸­çš„é…ç½®ï¼‰
MONGODB_URL=mongodb://admin:tradingagents123@localhost:27017/tradingagents?authSource=admin
REDIS_URL=redis://:tradingagents123@localhost:6379/0

# API é…ç½®
API_BASE_URL=http://localhost:8000
CORS_ORIGINS=["http://localhost:3000"]

# LLM é…ç½®ï¼ˆæ ¹æ®éœ€è¦é…ç½®ï¼‰
OPENAI_API_KEY=your_openai_key
DEEPSEEK_API_KEY=your_deepseek_key
SILICONFLOW_API_KEY=your_siliconflow_key

# å…¶ä»–é…ç½®
DEBUG=true
LOG_LEVEL=INFO
Database account password description:

MongoDB
: Username, password, database admintradingagents123tradingagents
Redis
: Password, no username (empty username).tradingagents123
These account password configurations are consistent with the configuration indocker-compose.hub.nginx.yml
âš ï¸ é‡è¦æç¤ºï¼š

In production, be sure to change the default password
The parameter in the MongoDB connection string represents authentication in the admin databaseauthSource=admin
The format in the Redis connection string represents an empty username plus a password:tradingagents123
4. Configure the front-end environment
4.1 Installing Node.js dependencies
cd frontend

# ä½¿ç”¨ yarnè¿›è¡Œå®‰è£…
yarn install
5. Initialize the database
5.1 Start MongoDB and Redis
Make sure the database service is running:

# æ£€æŸ¥ MongoDB
sudo systemctl status mongod  # Linux
brew services list |grep mongodb  # macOS

# æ£€æŸ¥ Redis
sudo systemctl status redis  # Linux
brew services list |grep redis  # macOS
5.2 Create database users and indexes
Create a MongoDB database user:

# è¿æ¥MongoDBï¼ˆä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ï¼‰
mongosh mongodb://admin:tradingagents123@localhost:27017/admin

# åˆ‡æ¢åˆ°tradingagentsæ•°æ®åº“
use tradingagents

# åˆ›å»ºåº”ç”¨ç”¨æˆ·ï¼ˆå¯é€‰ï¼Œç”¨äºæ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼‰
db.createUser({
  user: "tradingagents_user",
  pwd: "tradingagents123",
  roles: [
{ role: "readWrite", db: "tradingagents"}
]
})
Create a database index:


# å¯¼å…¥åˆå§‹é…ç½®å¹¶åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰
python scripts/import_config_and_create_user.py --host

# å¦‚æœæç¤ºæ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åªåˆ›å»ºç”¨æˆ·
# python scripts/import_config_and_create_user.py --create-user-only --host
âš ï¸ Important: The script must be executed, note that it is accompanied by the parameter --host, it will:import_config_and_create_user.py 

Import system configuration data into MongoDB
Create a default admin user (username: admin, password: admin123)
Initialize basic data such as LLM providers, market classifications, and more
If you don't follow this step, the system won't function properly and you'll be prompted when you log in that the configuration is missing.

Or use the MongoDB shell to manually create collections and indexes:

mongosh mongodb://admin:tradingagents123@localhost:27017/tradingagents?authSource=admin

# åˆ›å»ºé›†åˆå’Œç´¢å¼•
use tradingagents
db.createCollection('users')
db.createCollection('analyses')
db.createCollection('stock_basic_info')
6. Launch the app
6.1 Start the backend service

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœæœªæ¿€æ´»ï¼‰
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# ç¡®ä¿å·²æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆé‡è¦ï¼ï¼‰
python scripts/import_config_and_create_user.py --host

# å¯åŠ¨åç«¯æœåŠ¡
python -m app
The backend service will be launched at http://localhost:8000

âš ï¸ Note: If an error message is missing at startup, run the database initialization script firstpython scripts/import_config_and_create_user.py --host

6.2 Start the front-end service
cd frontend

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–ä½¿ç”¨ yarn
yarn dev
The front-end service will be launched at http://localhost:3000

7. Verify the installation
Backend validation:

Visit http://localhost:8000/docs to view the API documentation
Visit http://localhost:8000/health to check your health
Front-end verification:

Visit http://localhost:3000 to view the front-end interface
Check the browser console for errors
Database validation:

# è¿æ¥ MongoDB
mongosh trading_agents

# æŸ¥çœ‹é›†åˆ
show collections

# æ£€æŸ¥æ•°æ®
db.users.find().limit(5)
Backend Service Validation (New):

# æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
curl http://localhost:8000/api/health

# åº”è¯¥è¿”å›ï¼š{"status":"healthy","timestamp":"..."}

# æ£€æŸ¥APIæ–‡æ¡£
# è®¿é—®ï¼šhttp://localhost:8000/docs

# éªŒè¯æ•°æ®åº“åˆå§‹åŒ–æ˜¯å¦æˆåŠŸ
curl http://localhost:8000/api/system/config

# åº”è¯¥è¿”å›ç³»ç»Ÿé…ç½®ä¿¡æ¯ï¼Œå¦‚æœè¿”å›404æˆ–é”™è¯¯ï¼Œè¯´æ˜æ•°æ®åº“åˆå§‹åŒ–æœªå®Œæˆ
Advanced configuration
Install with Docker
For Docker installation, please refer to the dedicated Docker deployment documentation.

Detailed explanation of environmental variables
Backend environment variables
# æ•°æ®åº“ï¼ˆä¸docker-compose.hub.nginx.ymlé…ç½®ä¸€è‡´ï¼‰
MONGODB_URL=mongodb://admin:tradingagents123@localhost:27017/tradingagents?authSource=admin
REDIS_URL=redis://:tradingagents123@localhost:6379/0

# API é…ç½®
API_BASE_URL=http://localhost:8000
CORS_ORIGINS=["http://localhost:3000"]

# LLM é…ç½®
OPENAI_API_KEY=your_key
DEEPSEEK_API_KEY=your_key
SILICONFLOW_API_KEY=your_key

# ç¼“å­˜é…ç½®
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# å®‰å…¨é…ç½®ï¼ˆä¸docker-compose.hub.nginx.ymlé…ç½®ä¸€è‡´ï¼‰
SECRET_KEY=docker-jwt-secret-key-change-in-production-2024
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=480
REFRESH_TOKEN_EXPIRE_DAYS=30
CSRF_SECRET=docker-csrf-secret-key-change-in-production-2024
BCRYPT_ROUNDS=12
Troubleshooting
FAQs
1. Backend startup failed
Problem: Port is occupied

# æŸ¥æ‰¾å ç”¨ 8000 ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8000  # Windows
lsof -i :8000  # macOS/Linux

# ç»ˆæ­¢è¿›ç¨‹
taskkill /PID <pid> /F  # Windows
kill -9 <pid># macOS/Linux
Issue: Dependency installation failed

# å‡çº§ pip
python -m pip install --upgrade pip

# æ¸…ç†ç¼“å­˜
pip cache purge

# é‡æ–°å®‰è£…
pip install -r requirements.txt --force-reinstall
2. Front-end build failure
Problem:Node.js Versions are incompatible

# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# ä½¿ç”¨ nvm åˆ‡æ¢ç‰ˆæœ¬
nvm use 18

# æ¸…ç† node_modules
rm -rf node_modules package-lock.json
yarn install
Problem: Out of memory

# å¢åŠ  Node.js å†…å­˜é™åˆ¶
export NODE_OPTIONS="--max-old-space-size=4096"

# æˆ–ä½¿ç”¨ npm
npm run dev -- --max-old-space-size=4096
3. The database connection failed
Issue: MongoDB connection failed

# æ£€æŸ¥ MongoDB çŠ¶æ€
sudo systemctl status mongod

# é‡å¯ MongoDB
sudo systemctl restart mongod

# æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²
mongosh "mongodb://localhost:27017/trading_agents"
Issue: Redis connection failed

# æ£€æŸ¥ Redis çŠ¶æ€
sudo systemctl status redis

# é‡å¯ Redis
sudo systemctl restart redis

# æµ‹è¯•è¿æ¥
redis-cli ping
Issue: An error was reported when the backend was started, and the connection to MongoDB could not be reached

Solution:

Check if MongoDB is running:

# Windows
net start MongoDB

# macOS/Linux
sudo systemctl status mongod
Check that the connection string is correct

Check if the firewall is blocking port 27017

Issue: Error "System configuration missing" or API returns a 404 error when logging in

Solution:

Perform database initialization scripts (most frequently asked):

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå
python scripts/import_config_and_create_user.py --host 
Check if the default profile exists:

ls install/database_export_config_*.json
If the profile does not exist, only create users:

python scripts/import_config_and_create_user.py --create-user-only --host
Verify that the initialization was successful:

curl http://localhost:8000/api/system/config
# åº”è¯¥è¿”å›ç³»ç»Ÿé…ç½®ä¿¡æ¯ï¼Œè€Œä¸æ˜¯404é”™è¯¯
8.3 API call failed
Problem: CORS error

# æ£€æŸ¥åç«¯ CORS é…ç½®
grep -r "CORS_ORIGINS" app/

# æ£€æŸ¥å‰ç«¯ API URL
grep -r "VITE_API_BASE_URL" frontend/
Issue: Authentication failed

# æ£€æŸ¥ JWT é…ç½®
grep -r "SECRET_KEY" app/

# æ£€æŸ¥ç”¨æˆ·æƒé™
mongosh trading_agents --eval "db.users.find()"
8.4 Default Users Are Not Logged In
Issue: Unable to log in using admin/admin123

Solution:

Verify that the database initialization script has been executed:

python scripts/import_config_and_create_user.py --host
Check if the user has been created:

mongosh   mongodb://admin:tradingagents123@localhost:27017/tradingagents?authSource=admin
> use tradingagents
> db.users.find({username: "admin"})
If the user does not exist, recreate:

python scripts/import_config_and_create_user.py --create-user-only --host
Check if the password is correct: The default password is admin123

Log viewing
Backend logs
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs\tradingagents.log

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
journalctl -u your-app-service -f
Front-end logs
# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
# æŸ¥çœ‹æ„å»ºæ—¥å¿—
cd frontend &&npm run dev
Performance optimization
Backend optimization
Database index optimization:

# åˆ›å»ºå¤åˆç´¢å¼•
mongosh trading_agents --eval "db.analyses.createIndex({symbol: 1, date: -1})"
Cache configuration:

CACHE_TTL=7200
CACHE_MAX_SIZE=2000
Connection pool configuration:

MONGODB_MAX_POOL_SIZE=100
REDIS_MAX_CONNECTIONS=50
Front-end optimization
Build Optimization:

# ç”Ÿäº§æ„å»º
npm run build

# åˆ†æåŒ…å¤§å°
npm run build -- --analyze
Code Splitting:

// ä½¿ç”¨åŠ¨æ€å¯¼å…¥
const LazyComponent=()=>import('./components/LazyComponent.vue')
Safety advice
Change the default password:

# MongoDB
mongosh --eval "db.createUser({user: 'admin', pwd: 'strong_password', roles: ['root']})"

# Redis
redis-cli CONFIG SET requirepass "strong_password"
Configure the firewall:

# ä»…å…è®¸å¿…è¦ç«¯å£
sudo ufw allow 8000/tcp
sudo ufw allow 5173/tcp
sudo ufw enable
Use HTTPS:

# ç”Ÿæˆ SSL è¯ä¹¦
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
Updates and maintenance
Update code
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ›´æ–°åç«¯ä¾èµ–
cd app && pip install -r requirements.txt --upgrade

# æ›´æ–°å‰ç«¯ä¾èµ–
cd frontend &&npm update
Back up your data
# å¤‡ä»½ MongoDB
mongodump --db trading_agents --out ./backup/$(date +%Y%m%d)

# å¤‡ä»½ Redis
redis-cli SAVE
cp /var/lib/redis/dump.rdb ./backup/redis-$(date +%Y%m%d).rdb
Monitoring and alerting
# è®¾ç½®ç›‘æ§è„šæœ¬
cat> monitor.sh <<'EOF'
#!/bin/bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! curl -f http://localhost:8000/health; then
    echo "Backend service is down!" | mail -s "Alert" admin@example.com
fi
EOF

chmod +x monitor.sh
# æ·»åŠ åˆ° crontab
echo"*/5 * * * * /path/to/monitor.sh"|crontab -
Get help
GitHub Issues
: https://github.com/hsliuping/TradingAgents-CN/issues
documentation
: Detailed documentation under the Items directorydocs/
WeChat public account
: æœç´¢"TradingAgents-CN"å…³æ³¨è·å–æœ€æ–°èµ„è®¯
Mail
: hsliup@163.com
Important reminder
ğŸ”´ After the installation is complete, you must perform:python scripts/import_config_and_create_user.py  --host 

This is the most common installation problem, and without this step, the system will not function properly.

If you encounter problems during execution, check:

Is MongoDB and Redis working properly?
Whether the database connection is configured correctly
Whether the virtual environment is activated
Whether the Python version is in the 3.10-3.12 range
Other installation methods
If you find the source code installation complicated, we also provide an easier way to install it:

ğŸŸ¢ Green Edition installation (recommended for Windows users):

No need to install a Python environment, unzip it and use it
Detailed tutorial: Green version installation manual
ğŸŸ¢ Docker version installation (recommended for Linux/Mac users):

One-click deployment, no need to configure the environment
Detailed tutorial: Docker Edition Installation User Manual
license
This project uses a hybrid license:

Apache License 2.0
(Default): Applies to all files except andapp/frontend/
Proprietary license
: Applicable to Directory (FastAPI Backend) and Directory (Vue.js Frontend)
If you have commercial needs, please contact me, and you can apply it in your commercial needs after obtaining written permission, contact email: hsliup@163.com. app/frontend/
